IF(NOT InMMEX)
	MESSAGE(FATAL_ERROR "Use the top-level CMake script!")
ENDIF(NOT InMMEX)

TARGET_SOURCES(mmex PRIVATE
	"${CMAKE_CURRENT_SOURCE_DIR}/aboutdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/aboutdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/accountdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/accountdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/appstartdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/appstartdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/assetdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/assetdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/assetspanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/assetspanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/attachmentdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/attachmentdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/billsdepositsdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/billsdepositsdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/billsdepositspanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/billsdepositspanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetentrydialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetentrydialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetingpanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetingpanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetyeardialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetyeardialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetyearentrydialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/budgetyearentrydialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/categdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/categdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/constants.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/constants.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/currencydialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/currencydialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/customfielddialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/customfielddialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/customfieldeditdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/customfieldeditdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/customfieldlistdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/customfieldlistdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/dbcheck.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/dbcheck.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/dbwrapper.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/dbwrapper.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/defs.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/filtertransdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/filtertransdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/general_report_manager.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/general_report_manager.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/images_list.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/images_list.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/maincurrencydialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/maincurrencydialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/minimal_editor.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/minimal_editor.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmCalculator.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmCalculator.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmcheckingpanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmcheckingpanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmcombobox.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmex.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmex.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmframe.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmframe.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmframereport.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmhelppanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmhelppanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmhomepagepanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmhomepagepanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmHook.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionAttachmentSettings.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionAttachmentSettings.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionBaseSettings.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionBaseSettings.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOption.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionGeneralSettings.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionGeneralSettings.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOption.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionMiscSettings.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionMiscSettings.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionNetSettings.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionNetSettings.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionViewSettings.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmOptionViewSettings.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmpanelbase.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmpanelbase.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmreportspanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmreportspanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmSimpleDialogs.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmSimpleDialogs.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmtextctrl.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/mmTips.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/optionsdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/optionsdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/paths.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/paths.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/payeedialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/payeedialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/platfdep.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/recentfiles.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/recentfiles.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/relocatecategorydialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/relocatecategorydialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/relocatepayeedialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/relocatepayeedialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/resource.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/singleton.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/splitdetailsdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/splitdetailsdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/splittransactionsdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/splittransactionsdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/stockdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/stockdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/stockspanel.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/stockspanel.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/transdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/transdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/util.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/util.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/validators.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/webapp.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/webappdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/webappdialog.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/webapp.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/webserver.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/webserver.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/wizard_newaccount.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/wizard_newaccount.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/wizard_newdb.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/wizard_newdb.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/wizard_update.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/wizard_update.h"

	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/export.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/export.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/parsers.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/parsers.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/qif_export.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/qif_export.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/qif_import.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/qif_import_gui.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/qif_import_gui.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/qif_import.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/univcsvdialog.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/import_export/univcsvdialog.h"

	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Accountlist_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Assets_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Attachment_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Billsdeposits_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Budgetsplittransactions_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Budgettable_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Budgetyear_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Category_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Checkingaccount_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Currencyformats_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Currencyhistory_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Customfielddata_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Customfield_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Infotable_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Payee_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Report_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Setting_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Splittransactions_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Stockhistory_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Stock_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Subcategory_V1.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/db/DB_Table_Usage_V1.h"

	"${CMAKE_CURRENT_SOURCE_DIR}/reports/budgetcategorysummary.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/budgetcategorysummary.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/budget.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/budget.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/budgetingperf.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/budgetingperf.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/cashflow.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/cashflow.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/categexp.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/categexp.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/categovertimeperf.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/categovertimeperf.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/htmlbuilder.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/htmlbuilder.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/incexpenses.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/incexpenses.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/mmDateRange.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/mmDateRange.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/myusage.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/myusage.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/payee.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/payee.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/reportbase.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/reportbase.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/summary.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/summary.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/summarystocks.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/summarystocks.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/transactions.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/reports/transactions.h"

	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Account.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Account.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Asset.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Asset.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Attachment.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Attachment.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Billsdeposits.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Billsdeposits.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Budget.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Budget.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Budgetsplittransaction.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Budgetsplittransaction.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Budgetyear.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Budgetyear.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Category.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Category.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Checking.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Checking.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Currency.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Currency.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_CurrencyHistory.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_CurrencyHistory.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_CustomField.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_CustomFieldData.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_CustomFieldData.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_CustomField.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Infotable.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Infotable.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Payee.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Payee.h"
#	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Pragma.cpp"
#	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Pragma.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Report.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Report.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Setting.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Setting.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Splittransaction.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Splittransaction.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Stock.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Stock.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_StockHistory.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_StockHistory.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Subcategory.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Subcategory.h"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Usage.cpp"
	"${CMAKE_CURRENT_SOURCE_DIR}/model/Model_Usage.h"


	"${CMAKE_SOURCE_DIR}/3rd/cgitemplate/html_template.cpp"
	"${CMAKE_SOURCE_DIR}/3rd/mongoose/mongoose.c"
)
#OSX
IF (UNIX AND APPLE)
	TARGET_SOURCES(mmex PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/mac/platfdep.cpp")
ENDIF ()
#*nix
IF (UNIX AND NOT APPLE)
	TARGET_SOURCES(mmex PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/unix/platfdep.cpp")
ENDIF ()
#Windows
IF (WIN32)
	TARGET_SOURCES(mmex PRIVATE 
		"${CMAKE_CURRENT_SOURCE_DIR}/win/platfdep.cpp"
		"resources/mmex.rc")
	
ENDIF ()

