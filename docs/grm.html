<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">

    <title>General Geport Manager</title>
    <link href="master.css" rel="stylesheet" type="text/css">
    <script src="js/translator.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/toc.js"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'></script>
    <script src="js/back_to_top.js"></script>
    <link href="back_to_top.css" rel="stylesheet" type="text/css">
</head>

<body dir="ltr" lang="en-US" onload="translate();generateTOC(document.getElementById('toc'));">
    <a class="i18n" id="go_home" href="./index.html" style="font-weight: bold">Home</a><br>
    <script>
        var lang = getParameterValue("lang");
        if (lang !== '')
            document.getElementById('go_home').href = "index.html?lang=" + lang;
    </script>
    <a href="#" class="back-to-top"><img src="img/backtotop.png" alt="Back to Top" /></a>
    <!--Smooth Back to Top Button End-->
    <h1 class="i18n">General Report Manager</h1>
    <div id="toc">
        <!-- ToC generated by Javascript -->
    </div>
    <hr>
    <p class="i18n" id="grm_1">Call General Report Manager (GRM) tool or main menu - tools - General Report Manager...</p>
    <div class="row">
        <div class="col-xs-1"></div>
        <img id="grm_toolbar" alt="GRM Toolbar" src="img/grm_toolbar.png">
    </div>
    <script>
        var lang = getParameterValue("lang").substring(0, 2);
        var img_path = "img/grm_toolbar.png";
        if (lang == 'po')
            img_path = "img/grm_toolbar_po.png";
        document.getElementById('grm_toolbar').src = img_path;
    </script>
    <hr>
    <h2 class="i18n">Creating a new report</h2>
    <p>
        <span class="i18n">There are 2 options available:</span>
        <ol>
            <li class="i18n">Create the report from scratch.</li>
            <li class="i18n">Import the report.</li>
        </ol>
    </p>
    <h3 class="i18n">Creating the report from scratch</h3>
    <ol>
        <li class="i18n">
            Using the navigation tree, mouse Right-Click on the Reports label.
        </li>
        <li class="i18n">Choose the menu item: 'New Empty Report'.</li>
        <li class="i18n">Enter the name for the new report group and the new name.</li>
        <li class="i18n">Rename reports, if required, by right-clicking on the menu item: 'Rename Report'.</li>
        <li class="i18n">Three tabs will be displayed: SQL, Lua and htt.</li>
        <li class="i18n">
            Choose the tab: SQL, insert the SQL script into the editor window,
            check that the SQL script finishes with a semicolon, then press the Save button.
        </li>
        <li class="i18n">Press the Test button to execute the SQL script.</li>
        <li class="i18n">If the test is passed the Create Template button will become available. Press it to generate an html template for the report.</li>
        <li class="i18n">Press the 'Run' button to get the html report in the Output window.</li>
        <br>
    </ol>

    <div class="row">
        <div class="col-xs-1"></div>
        <img id="grm" alt="GRM" src="img/grm.gif">
    </div>
    <script>
        var lang = getParameterValue("lang").substring(0, 2);
        var img_path = "img/grm.gif";
        if (lang == 'po')
            img_path = "img/grm_po.gif";
        document.getElementById('grm').src = img_path;
    </script>
    <hr>
    <h3 class="i18n">Import report</h3>
    <p class="i18n">
        There are a lot of reports provided by users or developers on
        <a href="https://github.com/moneymanagerex/general-reports/releases">github</a>
    </p>
    <h2 class="i18n">Export</h2>
    <span class="i18n">If you have created any helpful report it may be exported into zip file.</span>
    <span class="i18n" id="grm_forum">
        <a href="http://forum.moneymanagerex.org/viewforum.php?f=16">Forum</a>
    </span>

    <h3 class="i18n">Report Parameters</h3>
    <span class="i18n">For mmex ver. 1.4.0 there is a possibility to transfer dates into a report's SQL script.</span><br>
    <span class="i18n">There are four options available: '&single_date', '&begin_date', '&end_date, '&budget_years'.</span><br>
    <span class="i18n">In case if a SQL contains one of the parameter above it will be replaced a date from a calendar widet.</span><br>
    <span class="i18n">For example, this SQL script returns all accounts balances for the specified date:</span><br>
    <br>

<div class = "container">
    <div style="overflow:auto;width:50px;height:220px;background:#ccc;float:left;left:0;top:0;padding:3px;">
        <p>Sample</p>
    </div>
    <div style="overflow:auto;width:650px;height:220px;background:#eee;float:left;left:200px;top:0;padding:3px;">
        <p>
with b as  (<br>
&nbsp;&nbsp;select ACCOUNTID, STATUS <br>
&nbsp;&nbsp;&nbsp;&nbsp;, (case when TRANSCODE = 'Deposit' then TRANSAMOUNT else -TRANSAMOUNT end) as TRANSAMOUNT<br>
&nbsp;&nbsp;&nbsp;&nbsp;, TRANSDATE <br>
&nbsp;&nbsp;from CHECKINGACCOUNT <br>
&nbsp;&nbsp;union all <br>
&nbsp;&nbsp;select TOACCOUNTID, STATUS, TOTRANSAMOUNT ,TRANSDATE <br>
&nbsp;&nbsp;from CHECKINGACCOUNT <br>
&nbsp;&nbsp;where TRANSCODE = 'Transfer' <br>
&nbsp;&nbsp;) <br>
select a.ACCOUNTNAME, <br>
total(TRANSAMOUNT) + a.INITIALBAL as Balance <br>
from ACCOUNTLIST as a, b <br>
where a.STATUS = 'Open' <br>
&nbsp;&nbsp;and b.ACCOUNTID = a.ACCOUNTID <br>
&nbsp;&nbsp;and b.STATUS <> 'V' <br>
&nbsp;&nbsp;and b.TRANSDATE <= <font style="color:black; background:yellow">'&single_date'</font> <br>
group by a.ACCOUNTNAME order by a.ACCOUNTNAME asc; <br>
        </p>
</div>
</div>
<br>

<div class="container">
    <div class="row">
        <div class="col-xs-1"></div>
        <img id="grm_date" alt="GRM Date" src="img/grm_custom_date.png">
    </div>
    <script>
        var lang = getParameterValue("lang").substring(0, 2);
        var img_path = "img/grm_custom_date.png";
        if (lang == 'ru')
            img_path = "img/grm_custom_date_ru.png";
        document.getElementById('grm_date').src = img_path;
    </script>
</div>
    <hr>
    <span class="i18n" id="translator"></span>
    <span id="percentage"></span>

</body>
</html>