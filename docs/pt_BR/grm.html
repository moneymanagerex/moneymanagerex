<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">

    <title>Gerenciador de Relatórios Personalizados</title>
    <link href="master.css" rel="stylesheet" type="text/css">
    <script src="js/translator.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/toc.js"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'></script>
    <script src="js/back_to_top.js"></script>
    <link href="back_to_top.css" rel="stylesheet" type="text/css">
</head>

<body dir="ltr" lang="en-US" onload="translate();generateTOC(document.getElementById('toc'));">
    <a class="i18n" id="go_home" href="./index.html" style="font-weight: bold">Início</a><br>
    <script>
        var lang = getParameterValue("lang");
        if (lang !== '')
            document.getElementById('go_home').href = "index.html?lang=" + lang;
    </script>
    <a href="#" class="back-to-top"><img src="img/backtotop.png" alt="Voltar ao topo" /></a>
    <!--Smooth Back to Top Button End-->
    <h1 class="i18n">Gerenciador de Relatórios Personalizados</h1>
    <div id="toc">
        <!-- ToC generated by Javascript -->
    </div>
    <hr>
    <p class="i18n" id="grm_1">Clique na ferramenta Gerenciador de Relatórios Personalizados (GRP) ou vá no menu - Ferramentas - Gerenciador de Relatórios Personalizados...</p>
    <div class="row">
        <div class="col-xs-1"></div>
        <img id="grm_toolbar" alt="Barra de Ferramentas do GRP" src="img/grm_toolbar.png">
    </div>
    <script>
        var lang = getParameterValue("lang").substring(0, 2);
        var img_path = "img/grm_toolbar.png";
        if (lang == 'po')
            img_path = "img/grm_toolbar_po.png";
        document.getElementById('grm_toolbar').src = img_path;
    </script>
    <hr>
    <h2 class="i18n">Criando um novo relatório</h2>
    <p>
        <span class="i18n">Existem 2 opções disponíveis:</span>
        <ol>
            <li class="i18n">Criar o relatório do zero.</li>
            <li class="i18n">Importar o relatório.</li>
        </ol>
    </p>
    <h3 class="i18n">Criando o relatório do zero</h3>
    <ol>
        <li class="i18n">
            Usando a árvore de navegação do Gerenciador de Relatórios Personalizados, clique com o botão direito em "Relatórios".
        </li>
        <li class="i18n">Escolha a opção: 'Novo Relatório em branco'.</li>
        <li class="i18n">Escolha o grupo de relatórios relacionado ou insira um novo grupo e o nome do novo relatório.</li>
        <li class="i18n">Renomear relatórios, se necessário, pode ser feito clicando-se com o botão direito do mouse no relatório desejado e selecionando a opão: 'Renomear Relatório'.</li>
        <li class="i18n">Três abas serão exibidas: SQL, Lua e htt.</li>
        <li class="i18n">
            Escolha a aba: SQL, insira o script SQL no editor, certifique-se que o script SQL termina com um ponto e vírgula, então clique no botão Salvar.
        </li>
        <li class="i18n">Clique no botão Testar para executar o script SQL.</li>
        <li class="i18n">Se o teste for concluído com sucesso, o botão Criar Template ficará disponível. Clique nele para gerar um template html para o relatório.</li>
        <li class="i18n">Pressione o botão 'Executar' para gerar o relatório em html na janela de saída.</li>
        <br>
    </ol>

    <div class="row">
        <div class="col-xs-1"></div>
        <img id="grm" alt="GRP" src="img/grm.gif">
    </div>
    <script>
        var lang = getParameterValue("lang").substring(0, 2);
        var img_path = "img/grm.gif";
        if (lang == 'po')
            img_path = "img/grm_po.gif";
        document.getElementById('grm').src = img_path;
    </script>
    <hr>
    <h3 class="i18n">Importar relatório</h3>
    <p class="i18n">
        Existem vários relatórios criados por usuários ou desenvolvedores no <a href="https://github.com/moneymanagerex/general-reports/releases">github</a>
    </p>
    <h2 class="i18n">Exportar</h2>
    <span class="i18n">Se o seu relatório for útil e você quiser mantê-lo, ele poderá ser exportado em um arquivo zip.</span>
    <span class="i18n" id="grm_forum">
        <a href="http://forum.moneymanagerex.org/viewforum.php?f=16">Fórum</a>
    </span>

    <h3 class="i18n">Parâmetros de relatório</h3>
    <span class="i18n">Para o mmex ver. 1.4.0 existe a possibilidade de transferir datas para um relatório com script SQL.</span><br>
    <span class="i18n">Há quatro opções disponíveis: '&single_date', '&begin_date', '&end_date', '&budget_years'.</span><br>
    <span class="i18n">No caso, se um SQL tiver um dos parâmetros acima, ele será substituído por uma data de um calendário.</span><br>
    <span class="i18n">Por exemplo, este script SQL retorna os saldos de todas as contas para a data especificada:</span><br>
    <br>

<div class = "container">
    <div style="overflow:auto;width:50px;height:220px;background:#ccc;float:left;left:0;top:0;padding:3px;">
        <p>Sample</p>
    </div>
    <div style="overflow:auto;width:650px;height:220px;background:#eee;float:left;left:200px;top:0;padding:3px;">
        <p>
with b as  (<br>
&nbsp;&nbsp;select ACCOUNTID, STATUS <br>
&nbsp;&nbsp;&nbsp;&nbsp;, (case when TRANSCODE = 'Deposit' then TRANSAMOUNT else -TRANSAMOUNT end) as TRANSAMOUNT<br>
&nbsp;&nbsp;&nbsp;&nbsp;, TRANSDATE <br>
&nbsp;&nbsp;from CHECKINGACCOUNT <br>
&nbsp;&nbsp;union all <br>
&nbsp;&nbsp;select TOACCOUNTID, STATUS, TOTRANSAMOUNT ,TRANSDATE <br>
&nbsp;&nbsp;from CHECKINGACCOUNT <br>
&nbsp;&nbsp;where TRANSCODE = 'Transfer' <br>
&nbsp;&nbsp;) <br>
select a.ACCOUNTNAME, <br>
total(TRANSAMOUNT) + a.INITIALBAL as Balance <br>
from ACCOUNTLIST as a, b <br>
where a.STATUS = 'Open' <br>
&nbsp;&nbsp;and b.ACCOUNTID = a.ACCOUNTID <br>
&nbsp;&nbsp;and b.STATUS <> 'V' <br>
&nbsp;&nbsp;and b.TRANSDATE <= <font style="color:black; background:yellow">'&single_date'</font> <br>
group by a.ACCOUNTNAME order by a.ACCOUNTNAME asc; <br>
        </p>
</div>
</div>
<br>

<div class="container">
    <div class="row">
        <div class="col-xs-1"></div>
        <img id="grm_date" alt="Data do GRP" src="img/grm_custom_date.png">
    </div>
    <script>
        var lang = getParameterValue("lang").substring(0, 2);
        var img_path = "img/grm_custom_date.png";
        if (lang == 'ru')
            img_path = "img/grm_custom_date_ru.png";
        document.getElementById('grm_date').src = img_path;
    </script>
</div>
    <hr>
    <span class="i18n" id="translator"></span>
    <span id="percentage"></span>

</body>
</html>