<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en"><head>











  
  <meta content="text/html; charset=UTF-8" http-equiv="content-type"><title>UnQLite C/C++ API Reference - Foreign Function Mechanism</title><!-- Copyright (C) 2013 Mrad Chems Eddine, Symisc Systems,http://www.symisc.net contact@symisc.net -->
  

  

  
  <link rel="stylesheet" href="symisc.css" type="text/css">

  
  <meta content="Symisc Systems - Mrad Chems Eddine &lt;chm@symisc.net&gt;" name="author">

  
  <meta content="http://unqlite.org/" name="description"></head><body>
<div style="width: 1092px;" id="main_div"><a href="http://unqlite.org/"><img style="border: 0px solid ; width: 170px; height: 70px;" alt="Symisc UnQLite" title="Symisc UnQLite" src="../images/symisc-unqlite.png"></a><br>
<div style="text-align: left; width: 1080px;" align="right">
<table style="text-align: left; width: 1075px; height: 41px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; width: 709px; height: 45px;"><small style="color: black; font-family: Verdana;"><small><br>
An Embeddable NoSQL Database Engine<br>
      </small></small></td>
      <td style="vertical-align: top; width: 162px; height: 45px;"><br>
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="unqlite_db" data-size="large">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></td>
      <td style="vertical-align: top; width: 176px; height: 45px;"><br>
      <a href="https://twitter.com/unqlite_db" class="twitter-follow-button" data-show-count="false" data-size="large">Follow
@unqlite_db</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></td>
    </tr>
  </tbody>
</table>
</div>
<hr style="width: 100%; height: 2px;">
<ul id="nav">
  <li id="nav-1"><a href="../index.html">About</a></li>
  <li id="nav-8"><a href="../features.html">Distinctive Features<br>
    </a></li>
  <li id="nav-2"><a href="../intro.html">Getting Started<br>
    </a></li>
  <li id="nav-3"><a href="../c_api.html">Documentation<br>
    </a></li>
  <li id="nav-4"><a href="../downloads.html">Downloads<br>
    </a></li>
  <li id="nav-5"><a href="../licensing.html">License<br>
    </a></li>
  <li id="nav-6"><a href="../faq.html">FAQ<br>
    </a></li>
  <li id="nav-7"><a href="../support.html">Online Support<br>
    </a></li>
</ul>
<h1 style="font-family: Verdana;"><font style="font-size: 10pt;" size="2">UnQLite</font><small><small><b> C/C++ API Reference - </b></small></small><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">Foreign Function Mechanism</font></font><font><font><b><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>.</b></font></font></b></font></font></h1>

<div><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Syntax</b></font></font><br>
<p style="margin-left: 1.25cm; margin-bottom: 0cm;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><font color="#0000ff"><br>
</font></b></font></font></font></p>
<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"><font style="font-size: 10pt;" size="2"><font color="#0000ff">int</font> <span style="font-weight: bold;">unqlite_create_function</span>(</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000">&nbsp;&nbsp;&nbsp; <font style="font-size: 10pt;" size="2"><font color="#0000ff">unqlite_vm
</font>*pVm,</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"><font color="#0000ff">&nbsp;&nbsp;&nbsp; <font style="font-size: 10pt;" size="2">const</font>
<small><font style="color: blue;" color="#0000ff">char</font><span style="color: black;"> *zName,</span></small></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"><font color="#0000ff">&nbsp;&nbsp;&nbsp; <font style="font-size: 10pt;" size="2">int</font>
<small><span style="color: black;">(*xFunc)(</span><font color="#0000ff">unqlite_context</font> <span style="color: black;">*pCtx,</span><font color="#0000ff">int
</font><font color="#000000">argc</font><span style="color: black;">,</span><font color="#0000ff">unqlite_value</font>
<span style="color: black;">**argv),</span></small></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"><font color="#0000ff">&nbsp;&nbsp;&nbsp; <font style="font-size: 10pt;" size="2">void</font>
<small><span style="color: black;">*pUserData</span></small></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><font color="#000000"> <font style="font-size: 10pt;" size="2">);</font></font></p>
<p style="margin-left: 1.25cm; margin-bottom: 0cm;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></font></p>

<p style="margin-left: 1.25cm; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">Install
a foreign function and invoke it from the target <a href="../jx9.html">Jx9</a> code.</font></font></p>
<p style="margin-left: 1.25cm; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><br>
</font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Description</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>

<p style="margin-left: 1.25cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">This
interface known as f<span style="font-style: italic;">oreign function creation routine</span> is
used to add Jx9 (via UnQLite API) functions or to redefine the behavior of existing Jx9
functions. After successful call to this routine, the installed
function is available immediately and can be called from the target
<a href="../jx9.html">Jx9</a> code.</font></font></p>
<p style="margin-left: 1.25cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><br>
</font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">The
first parameter is the </span></span></font></font><a href="../c_api_object.html#unqlite_vm"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">virtual
machine</span></span></font></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">
to which the Jx9 function is to be added. If an application uses more
than one virtual machine then application-defined functions must
be added to each virtual machine separately.</span></span></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
 </span></span></font></font>
</p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">The
second parameter is a pointer to a null terminated string holding the
name of the Jx9 function to be created or redefined. A valid function
name starts with a letter or underscore, followed by any number of
letters, numbers, or underscores. Also note that functions names under
Jx9 are </span></span><span style="font-style: normal;"><b>case sensitive</b></span><span style="font-style: normal;"><span style="font-weight: normal;">.</span></span></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
</span></span></font></font></p>


<p style="margin-left: 1.25cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif">The
third and most important parameter is a pointer to C-language
function that implement the Jx9 function. This function must accept
three parameters. The first parameter is a pointer to a </font><a style="font-family: Courier New;" href="../c_api_object.html#unqlite_context">unqlite_context</a><font face="Verdana, sans-serif">
structure. This is the context in which the foreign function
executes. In other words, this parameter is the intermediate between
the foreign function and the underlying virtual machine.</font></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
</span></span></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">The
application-defined foreign function implementation will pass this
pointer through into calls to dozens of interfaces, these includes:</span></span></font></font></p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">
</span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_output.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_output()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">, </span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_throw_error.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_throw_error()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">, </span></span></font></font><a style="font-family: Courier New;" href="unqlite_value_alloc.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_new_scalar()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">, </span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_user_data.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_user_data()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">, </span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_alloc.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_alloc_chunk()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">
and many more.</span></span></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><br>
</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">The
computation result (i.e: the return value) of the foreign function
can be set via one of these interfaces:</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><br>
</font></font></p>


<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Verdana;"><small><a style="font-family: Courier New;" href="unqlite_result_fill.html">unqlite_result_int()</a><font color="#000000"><font style="font-size: 10pt;" size="2"><small><span style="font-weight: normal;">
</span></small></font></font></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Verdana;"><small><a style="font-family: Courier New;" href="unqlite_result_fill.html">unqlite_result_int64()</a><font color="#000000"><font style="font-size: 10pt;" size="2"><small><span style="font-weight: normal;">
</span></small></font></font></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><small><a href="unqlite_result_fill.html">unqlite_result_bool()</a><font color="#000000"><font style="font-size: 10pt;" size="2"><small><span style="font-weight: normal;">
</span></small></font></font></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><small><a href="unqlite_result_fill.html">unqlite_result_double()</a><font color="#000000"><font style="font-size: 10pt;" size="2"><small><span style="font-weight: normal;">
</span></small></font></font></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><small><a href="unqlite_result_fill.html">unqlite_result_null()</a></small><font color="#000000"><font style="font-size: 10pt;" size="2"><span style="font-weight: normal;">
</span></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><a href="unqlite_result_fill.html"><font style="font-size: 10pt;" size="2">unqlite_result_string()</font></a><font style="font-size: 10pt;" size="2">
</font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><small><a href="unqlite_result_fill.html">unqlite_result_value()</a><font color="#000000"><font style="font-size: 10pt;" size="2"><small><span style="font-weight: normal;">
</span></small></font></font></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><small><a href="unqlite_result_fill.html">unqlite_result_resource()</a><font color="#000000"><font style="font-size: 10pt;" size="2"><small><span style="font-style: normal;"><span style="font-weight: normal;">
</span></span></small></font></font></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-family: Courier New;"><small><a href="unqlite_result_fill.html">unqlite_result_string_format()</a></small></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm;"><small style="font-family: Verdana;"><a href="../../../jx9/website/c_api_func.html#Setting_The_Result_Of_A_Foreign_Function"><br>
</a></small><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">
</span></span></font></font></font></p>


<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">If
no call is made to one of these interfaces, then a NULL return value
is assumed.</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><br>
</font></font></p>


<p style="margin-left: 1.25cm; margin-bottom: 0cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">The
second parameter </span></span></font></font><font style="font-family: Courier New;" face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><b>xFunc()</b></span></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">
takes is the total number of arguments passed to the foreign
function. If the total number of arguments is not the expected
one, the foreign functions can throw an error via </span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_throw_error.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_throw_error()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">
as follow:</span></span></font></font></p>
<p style="margin-left: 1.25cm; margin-bottom: 0cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
</span></span></font></font></p>

<p style="margin-left: 2.3cm; margin-bottom: 0cm; font-family: Courier New;"><font style="font-size: 10pt;" size="2">unqlite_context_throw_error</font><font style="font-size: 10pt;" size="2">(</font><font style="font-size: 10pt;" size="2">pCtx</font><font style="font-size: 10pt;" size="2">,</font><font style="font-size: 10pt;" size="2">UNQLITE_CTX_WARNING</font><font style="font-size: 10pt;" size="2">,</font><font color="#a31515"><font style="font-size: 10pt;" size="2">"Unexpected
number of arguments"</font></font><font color="#000000"><font style="font-size: 10pt;" size="2">);</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><br>
</font></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif">The
last parameter </font><font style="font-family: Courier New;" face="Verdana, sans-serif"><b>xFunc()</b></font><font face="Verdana, sans-serif">
takes is an array of pointers to </font><a style="font-family: Courier New;" href="../c_api_object.html#unqlite_value">unqlite_value</a><font face="Verdana, sans-serif">
which represents function arguments. The implementation of the
foreign functions can extract their contents via one of these
interfaces:</font></font></font></p>


<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><a href="../../../jx9/website/c_api_func.html#Foreign_Function_Parameter_Values"><br>
</a></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal; font-family: Courier New;"><font style="font-size: 10pt;" size="2"><a href="unqlite_value_cast.html">unqlite_value_to_int()</a><font color="#000000">
</font></font></p>


<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal; font-family: Courier New;">
<font style="font-size: 10pt;" size="2"><a href="unqlite_value_cast.html">unqlite_value_to_bool()</a><font color="#000000">
</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal; font-family: Courier New;">
<font style="font-size: 10pt;" size="2"><a href="unqlite_value_cast.html">unqlite_value_to_int64()</a><font color="#000000">
</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal; font-family: Courier New;">
<font style="font-size: 10pt;" size="2"><a href="unqlite_value_cast.html">unqlite_value_to_double()</a><font color="#000000">
</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal; font-family: Courier New;">
<font style="font-size: 10pt;" size="2"><a href="unqlite_value_cast.html">unqlite_value_to_string()</a><font color="#000000">
</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal; font-family: Courier New;">
<font style="font-size: 10pt;" size="2"><a href="unqlite_value_cast.html">unqlite_value_to_resource()</a><font color="#000000">
</font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><a style="font-family: Courier New;" href="unqlite_value_cast.html">unqlite_value_compare()</a><font color="#000000"><font face="Verdana, sans-serif"><span style="font-style: normal;">
</span></font></font></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><br>
</font></font></font></p>

<p style="margin-left: 1.25cm; margin-bottom: 0cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif">The
</font><font style="font-family: Courier New;" face="Verdana, sans-serif"><b>xFunc()</b></font><font face="Verdana, sans-serif">
implementation must return </font><font style="font-weight: bold; font-family: Courier New;" face="Verdana, sans-serif">UNQLITE_OK</font><font face="Verdana, sans-serif">
on success. But if the callbacks wishes to abort processing (i.e: to stop
program execution) and thus to emulate the exit() or die() <a href="../jx9_lang.html">Jx9 constructs</a>, it must return </font><font style="font-weight: bold; font-family: Courier New;" face="Verdana, sans-serif">UNQLITE_ABORT</font><font face="Verdana, sans-serif">
instead.</font></font></font></p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
</span></span></font></font></p>
<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">The
fourth and last parameter is an arbitrary
pointer. The implementation of the function can gain access to this
pointer using </span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_user_data.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_user_data()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">.
Also note that foreign functions can store an arbitrary number of
auxiliary private data in a stack-able manner via </span></span></font></font><a style="font-family: Courier New;" href="unqlite_context_push_aux_data.html"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_context_push_aux_data()</span></span></font></a><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><span style="font-style: normal;"><span style="font-weight: normal;">.</span></span></font></font></p>

<p style="margin-left: 1.25cm; font-style: normal; font-weight: normal;">
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><br>
</font></font></p>
<p style="margin-left: 1.25cm; font-style: normal; font-weight: normal;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">Built-in
functions may be overloaded by new application-defined functions.
Note that Jx9 is shipped with more than 312 <a href="../jx9_builtin.html">built-in functions</a> installed
using exactly this interface.</font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
</span></span></font></font></font></p>
<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;">This
function must be called </span></span></font><a href="../../../jx9/website/c_api_func.html#jx9_compile_v2"><font face="Verdana, sans-serif"><span style="font-style: normal;"></span></font></a><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;"> before program execution via </span></span></font><a style="font-family: Courier New;" href="unqlite_vm_exec.html"><span style="font-style: normal;"><span style="font-weight: normal;">unqlite_vm_exec()</span></span></a><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;">.</span></span></font></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;"><br>
</span></span></font></font></font></p>
<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;">You
can refer to the </span></span></font><a href="../func_intro.html"><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;">following
guide</span></span></font></a><font face="Verdana, sans-serif"><span style="font-style: normal;"><span style="font-weight: normal;">
for an introductory course to </span></span></font><font face="Verdana, sans-serif">this
interface and the foreign function mechanism in general.</font></font></font></p>
<font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;">&nbsp;<br>
</span></font></font></font>



<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Parameters</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>

<table style="width: 1092px; height: 72px;" id="table_code" border="1" bordercolor="#000000" cellpadding="2" cellspacing="0">

  <colgroup><col width="73*"> <col width="183*"> </colgroup><tbody>
    <tr valign="top">
      <td width="28%">
      
      <div style="margin-left: 40px;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>pVm</b></font></font></font></div>
</td>
      <td width="72%">
      
      
      <p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">A pointer to a UnQLite <a href="../c_api_object.html#unqlite_vm">Virtual Machine</a>.</font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">
      </font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"></font></font></p>
      </td>
    </tr><tr>
      <td style="vertical-align: top;">
      <div style="margin-left: 40px;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>zName</b></font></font></font></div>
      </td>
      <td style="vertical-align: top;">
      <p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">A pointer to a null terminated string holding the name of the<b>
      </b><span style="font-weight: normal;">foreign function</span>.</font></font></p>
</td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      <div style="margin-left: 40px;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>xFunc</b></font></font></font></div>
      </td>
      <td style="vertical-align: top;">
      <p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">A pointer to a C function performing the desired computation.</font></font></p>
      </td>
    </tr>
<tr>
      <td style="vertical-align: top;">
      <div style="margin-left: 40px;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>pUserDara</b></font></font></font></div>
      </td>
      <td style="vertical-align: top;">
      
      <p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif">Arbitrary user pointer which
can be extracted later in the implementation of the foreign function
via a call to </font><a style="font-family: Courier New;" href="unqlite_context_user_data.html">unqlite_context_user_data()</a><font face="Verdana, sans-serif">.</font></font></font></p>

      </td>
    </tr>

  </tbody>
</table>

<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Return
value</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>

<p style="margin-left: 1.25cm; font-weight: normal;"><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><span style="font-family: Courier New;">UNQLITE_OK</span> </b>is returned<b> </b>on success. Any other return value
</font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">typically (<b style="font-family: Courier New;">UNQLITE_NOMEM</b>) </font></font><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2">indicates failure</font></font></font></p>

<p style="margin-left: 1.25cm; font-weight: normal;">
</p>
<p style="margin-left: 1.25cm; font-weight: normal;">
</p>

<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>Example</b></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>

<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><a href="http://unqlite.org/db/unqlite_func_intro.c"><font face="Verdana, sans-serif"><span style="font-weight: normal;">Compile this C file</span></font></a><font face="Verdana, sans-serif"><span style="font-weight: normal;">
for a smart introduction to this </span></font></font></font><font color="#000000"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;">interface</span></font></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;">.</span></font></font></font></p>
<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"><br>
</span></font></font></font></p>
<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b>See also<br>
</b></font></font></p>

<p><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><b><br>
</b></font></font></p>


<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><a href="http://unqlite.org/db/unqlite_func_intro.c"><font face="Verdana, sans-serif"><span style="font-weight: normal;"></span></font></a><font face="Verdana, sans-serif"><span style="font-weight: normal;"><a href="unqlite_create_constant.html">unqlite_create_constant</a>, <a href="unqlite_delete_function.html">unqlite_delete_function</a></span></font></font></font><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;">.<br>
</span></font></font></font></p>
<p style="margin-left: 1.25cm;"><font face="Verdana, sans-serif"><font style="font-size: 10pt;" size="2"><font face="Verdana, sans-serif"><span style="font-weight: normal;"><br>
</span></font></font></font></p>


</div>
<hr style="width: 100%; height: 2px;">
<div style="text-align: right; margin-top: 0px; height: 91px;"><small><small><a href="http://www.symisc.net/"><img style="border: 0px solid ; width: 170px; height: 70px;" alt="Symisc Systems" src="../images/symisc.png"></a></small></small>
<div style="text-align: left; margin-top: 0px; height: 14px;"><small><small style="font-family: Verdana;">Copyright Â© <a href="http://www.symisc.net/">Symisc Systems</a></small></small><br>
</div>
</div>
</div>

</body></html>